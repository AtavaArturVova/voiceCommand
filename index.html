<!DOCTYPE html>
<html>
<head>
    <title>Пример использования поля для голосового ввода</title>
    <script src="https://webasr.yandex.net/jsapi/v1/webspeechkit.js" type="text/javascript"></script>
    <meta charset="utf-8">
</head>
<body>
    <div id="button_id" style="width: 200px; height:100px; background:red;"></div>
     <div id="button_id1" style="width: 200px; height:100px; background:green;"></div>
    <script>
window.onload = function(){	

var ApiSpeechKit = (function(){
	
var streamer = new ya.speechkit.SpeechRecognition();
streamer.lang = 'ru-RU';
streamer.apikey = '70e293fc-a96a-4a1f-b08e-f2836815ae5f';
streamer.utteranceSilence = 60;

return {
textOfVoice:"",

start: function(){
var that = this;

streamer.start({
	
	apikey:	streamer.apikey,
	lang: streamer.lang, 
	command: "",

    initCallback: function () {
        console.log("Началась запись."); 
    },
	dataCallback: function(text){
		if(text !== ''){
			that.textOfVoice = text; 
		}
		
    },
	stopCallback: function () {
		console.log("Stop");
		 
    },
	utteranceSilence: streamer.utteranceSilence

},that);

	
}
}
})();

var jumpPage = (function(){
	var command = "открыть ";//команда
	var commandTo;//команда к
	var nameLink;//название ссылки
	return { start: function(word){
		for(var name in BDjumpPage){
			
			commandTo = command + name;
			nameLink = BDjumpPage[name];
			
			if( word === commandTo){
	 		 location = nameLink;
			 break;
			}
		}
	
	}
	}
	
})();

var BDjumpPage = {
	"я":"http://test2.kafelec.nau.edu.ua/",
}

document.querySelector('#button_id').onclick = function () {
	ApiSpeechKit.start();
};

document.querySelector('#button_id1').onclick = function () {
	switchTasks(ApiSpeechKit.textOfVoice)
};

function editText(){
console.log("dsadsddsa");
}

function switchTasks(text){

	var word = deleteLastCharacter(text);
	console.log(word);
	switch(word){
		case "открыть": jumpPage.start(word); break;
	}
	
};
 
function deleteLastCharacter(word){
	return word.substring(0, word.length - 1);
}

function getFirstWord{

}



}
</script>
</body>
</html>